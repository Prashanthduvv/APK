<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0,maximum-scale=1.0" />
    <title>User Registration and Profile Management</title>
   <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
        <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css"
        integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
        <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <style>
      body{
     
    background-image: none!important;


      }
    h1 {
      /* background-color: #121212da; */
  font-size: 3rem;
  text-align: center;
  color: #f45d05;
  text-shadow: 2px 2px 5px rgba(0, 0, 0, 0.5);
  margin-bottom: 20px;
  animation: glowText 1.5s infinite alternate;
}

@keyframes glowText {
  from {
    text-shadow: 2px 2px 10px rgba(227, 116, 189, 0.8);
  }
  to {
    text-shadow: 2px 2px 20px rgb(255, 0, 195);
  }
}

      .card {
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
        border-radius: 12px;
      }

      .profile-pic {
        width: 120px;
        height: 120px;
        border-radius: 50%;
        object-fit: cover;
        border: 3px solid #fff;
      }

      .theme-option {
        display: inline-block;
        width: 30px;
        height: 30px;
        border-radius: 50%;
        cursor: pointer;
        margin-right: 5px;
        border: 2px solid #fff;
      }

      .btn-custom {
        background-color: #ff7e5f;
        color: white;
        border: none;
      }

      .btn-custom:hover {
        background-color: #fc4a1a;
      }

      .notification-toggle {
        display: flex;
        align-items: center;
        justify-content: space-between;
      }

      .invalid-feedback {
        display: none;
        color: red;
        font-size: 0.9em;
        opacity: 0;
        transition: opacity 0.3s ease;
      }

      .invalid-feedback.show {
        display: block;
        opacity: 1;
      }

      /* Dark Mode Styles */
      .dark-mode {
        background-color: #121212 !important;
        color: #fff !important;
      }

      /* Theme Options */
      .theme-light {
        background-color: #ffffff;
        color: #000000;
      }

      .theme-blue {
        background-color: #2575fc;
        color: #ffffff;
      }

      .theme-red {
        background-color: #ff7e5f;
        color: #ffffff;
      }

      .theme-green {
        background-color: #4caf50;
        color: #ffffff;
      }

      /* Toggle Switch Styles */
      .switch {
        position: relative;
        display: inline-block;
        width: 60px;
        height: 34px;
      }

      .switch input {
        opacity: 0;
        width: 0;
        height: 0;
      }

      .slider {
        position: absolute;
        cursor: pointer;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-color: #ccc;
        -webkit-transition: 0.4s;
        transition: 0.4s;
      }

      .slider:before {
        position: absolute;
        content: "";
        height: 26px;
        width: 26px;
        left: 4px;
        bottom: 4px;
        background-color: white;
        -webkit-transition: 0.4s;
        transition: 0.4s;
      }

      input:checked + .slider {
        background-color: #2196f3;
      }

      input:focus + .slider {
        box-shadow: 0 0 1px #2196f3;
      }

      input:checked + .slider:before {
        -webkit-transform: translateX(26px);
        -ms-transform: translateX(26px);
        transform: translateX(26px);
      }

      /* Rounded sliders */
      .slider.round {
        border-radius: 34px;
      }

      .slider.round:before {
        border-radius: 50%;
      }

      /* Custom Form Control Styling */
      .form-select {
        background-image: none !important; /* Remove the default checkmark image */
      }

      .form-control:valid {
        background-image: none !important; /* Remove the valid checkmark image */
      }

      .form-control:invalid {
        background-image: none !important; /* Remove the invalid warning image */
      }

      @media (max-width: 768px) {
        .card {
          margin-bottom: 20px;
        }
      }
       /* Media Queries for Different Screen Sizes */
  @media screen and (max-width: 320px) {
    .footer .container {
      padding-left: 10px;
      padding-right: 10px;
    }
    .footer .col-lg-3,
    .footer .col-md-6 {
      width: 100% !important;
      text-align: center;
    }
    .footer .footer-title {
      font-size: 18px;
    }
    .footer .footer-links {
      padding-left: 0;
      text-align: center;
    }
    .footer .footer-links li {
      margin-bottom: 8px;
    }
    .footer .social-icons a {
      margin-right: 10px;
    }
  }

  @media screen and (max-width: 480px) {
    .footer .footer-title {
      font-size: 20px;
    }
    .footer .footer-links li {
      margin-bottom: 12px;
    }
    .footer .social-icons a {
      margin-right: 12px;
    }
  }

  @media screen and (max-width: 768px) {
    .footer .footer-title {
      font-size: 22px;
    }
    .footer .footer-links li {
      margin-bottom: 14px;
    }
    .footer .social-icons a {
      margin-right: 14px;
    }
  }

  @media screen and (min-width: 768px) and (max-width: 1024px) {
    .footer .footer-title {
      font-size: 24px;
    }
    .footer .footer-links li {
      margin-bottom: 16px;
    }
    .footer .social-icons a {
      margin-right: 16px;
    }
  }

  @media screen and (min-width: 1024px) and (max-width: 2560px) {
    .footer .footer-title {
      font-size: 26px;
    }
    .footer .footer-links li {
      margin-bottom: 18px;
    }
    .footer .social-icons a {
      margin-right: 18px;
    }
  }

  @media screen and (min-width: 2560px) {
    .footer {
      padding: 40px 0; /* Increased padding for large screens */
      margin-top: 900px ;
    }
    .footer .footer-title {
      font-size: 28px; /* Larger font size for titles */
    }
    .footer .footer-links li {
      margin-bottom: 18px; /* Adjust spacing for links */
    }
    .footer .social-icons a {
      font-size: 24px; /* Larger icons for better visibility */
      margin-right: 20px;
    }
    .footer .container {
      padding: 0 40px; /* Add more padding for wider screens */
    }
  }
 
    </style>
  </head>

  <body class="theme-light" >
    <!-- Default theme is light -->
    <nav class="navbar navbar-expand-lg fixed-top">
      <a class="navbar-brand" href="index.html">HarmoniQ</a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav"
          aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"><i class="fa-solid fa-bars" style="color: #ffffff;"></i></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav"> 
          <ul class="navbar-nav ml-auto">
            <li class="nav-item"><a class="nav-link active" href="index.html"><i class="fas fa-home"></i>Home</a></li>
            <li class="nav-item"><a class="nav-link" href="analysis.html"><i class="fas fa-music"></i> Analysis</a></li>
            <li class="nav-item"><a class="nav-link" href="playback.html"><i class="fas fa-play-circle"></i> Playback</a></li>
  
            <li class="nav-item"><a class="nav-link" href="community.html"><i class="fas fa-users"></i> Community</a></li>
            <li class="nav-item"><a class="nav-link" href="reminders.html"><i class="fas fa-bell"></i> Reminders</a></li>
        
            <li class="nav-item"><a class="nav-link" href="help.html"><i class="fas fa-question-circle"></i> Help</a></li>     
               <li class="nav-item"><a  class="nav-link" href="login.html" id="logoutButton"><i class="fa fa-sign-out"
                          aria-hidden="true"></i></a></li>
          </ul>
      </div>
  </nav>
    <div class="container py-5">
      <h1 class="text-center mb-4 "> Profile Management</h1>
      <div class="row justify-content-center">
        <div class="col-lg-6">
          <!-- Registration Card -->
          <div class="card p-4 bg-light text-dark">
            <h2 class="text-center">Create Your Profile</h2>
            <form id="profileForm">
              <!-- Username with Pattern Validation -->
              <div class="mb-3">
                <label for="username" class="form-label"
                  >Full Name (Alphabetic characters only)</label
                >
                <input
                  type="text"
                  id="username"
                  class="form-control"
                  placeholder="Enter your username"
                  pattern="[A-Za-z ]+"
                  oninput="this.value = this.value.replace(/[^A-Za-z ]/g, '')"
                  required
                />
                <div class="invalid-feedback" id="usernameError">
                  Username must be alphabetic and can include spaces.
                </div>
              </div>

              <!-- Profile Picture -->
              <div class="mb-3">
                <label for="profilePicture" class="form-label"
                  >Upload Profile Picture</label
                >
                <input
                  type="file"
                  id="profilePicture"
                  class="form-control"
                  accept="image/*"
                  required
                />
                <div class="invalid-feedback" id="pictureError">
                  Please upload a valid image file (JPG, PNG, GIF).
                </div>
              </div>

              <!-- Musical Preferences -->
              <div class="mb-3">
                <label for="musicalPreferences" class="form-label"
                  >Musical Preferences</label
                ><br>
                <select id="musicalPreferences" class="form-select" required style="border: 1px solid #ccc; padding: 10px; border-radius: 5px; width: 100%;">
                  <option value="">Select your genre</option>
                  <option value="Rock">Rock</option>
                  <option value="Jazz">Jazz</option>
                  <option value="Pop">Pop</option>
                  <option value="Classical">Classical</option>
                </select>
                <div class="invalid-feedback" id="preferencesError">
                  Please select a musical preference.
                </div>
              </div>

              <!-- Theme Preferences -->
              <div class="mb-3">
                <label class="form-label">Choose Theme</label>
                <div id="themeOptions">
                  <span
                    class="theme-option"
                    style="background-color: #ffffff"
                    data-theme="theme-light"
                  ></span>
                  <span
                    class="theme-option"
                    style="background-color: #2575fc"
                    data-theme="theme-blue"
                  ></span>
                  <span
                    class="theme-option"
                    style="background-color: #ff7e5f"
                    data-theme="theme-red"
                  ></span>
                  <span
                    class="theme-option"
                    style="background-color: #4caf50"
                    data-theme="theme-green"
                  ></span>
                  <span
                    class="theme-option"
                    style="background-color: #121212"
                    data-theme="dark-mode"
                  ></span>
                  <!-- Dark Mode -->
                </div>
              </div>

              <!-- Notification Settings (Toggle Switch) -->
              <div class="mb-3 notification-toggle">
                <label class="form-label">Enable Notifications</label>
                <label class="switch">
                  <input type="checkbox" id="notifications" checked />
                  <span class="slider round"></span>
                </label>
              </div>
              <div class="mb-3">
                <label for="songsListened" class="form-label"
                  >How many songs have you listened to?</label
                >
                <select id="songsListened" class="form-select" style="border: 1px solid #ccc; padding: 10px; border-radius: 5px; width: 100%;">
                  <option value="">Select a number</option>
                  <option value="10">10</option>
                  <option value="20">20</option>
                  <option value="30">30</option>
                  <option value="40">40</option>
                  <option value="50">50</option>
                </select>
              </div>
              <div class="text-center mt-3 mb-3">
                <button id="assignBadge" class="btn btn-custom">Assign Badge</button>
            </div>

              <!-- Submit Button -->
              <button type="submit" class="btn btn-custom w-100">
                Save Profile
              </button>
            </form>
          </div>
        </div>

        <div class="col-lg-6">
          <!-- Profile Display Card -->
          <div
            class="card p-4 bg-light text-dark"
            id="profileCard"
            style="display: none"
          >
            <h2 class="text-center">Your Profile</h2>
            <div class="text-center mb-3">
              <img
                src="https://via.placeholder.com/120"
                alt="Profile Picture"
                class="profile-pic"
                id="profileImage"
              />
            </div>
            <h4 class="text-center" id="displayUsername"></h4>
            <p class="text-center" id="displayPreferences"></p>
            <p class="text-center" id="displayNotifications"></p>
            <div id="badgeSection" class="text-center mt-3" style="display: none;">
                <span id="badge" class="badge text-bg-light fs-5 px-4 py-2"></span>
            </div>

            <!-- Edit and Delete Buttons -->
            <div class="text-center mt-3">
              <button id="editProfile" class="btn btn-warning me-2">
                Edit Profile
              </button>
              <button id="deleteProfile" class="btn btn-danger">
                Delete Profile
              </button>
            </div>
          </div>

          
          
        </div>
      </div>
    </div>
    <footer class="footer">
      <div class="container">
        <div class="row">
          <!-- About Section -->
          <div class="col-lg-3 col-md-6 mb-4">
            <h3 class="footer-title">About the App</h3>
            <p>Explore chord progressions, enhance your musical skills, and analyze harmony like never before. Let music inspire you!</p>
          </div>
          <!-- Quick Navigation -->
          <div class="col-lg-3 col-md-6 mb-4">
            <h3 class="footer-title">Quick Navigation</h3>
            <ul class="footer-links text-center">
              <li><a href="index.html">Home</a></li>
              <li><a href="analysis.html">Analysis</a></li>
              <li><a href="playback.html">Playback</a></li>
              <li><a href="community.html">Community</a></li>
              <li><a href="reminders.html">reminder</a></li>
              <li><a href="help.html">Help</a></li>
              <!-- <li><a href="login.html">Log Out</a></li> -->
            </ul>
          </div>
          <!-- Connect Section -->
          <div class="col-lg-3 col-md-6 mb-4 text-center">
            <h3 class="footer-title">Connect with Us</h3>
            <div class="social-icons ">
              <a href="https://www.facebook.com" target="_blank" class="social-link" aria-label="Facebook">
                <i class="fab fa-facebook-f"></i>
              </a>
              <a href="https://www.twitter.com" target="_blank" class="social-link" aria-label="Twitter">
                <i class="fab fa-twitter"></i>
              </a>
              <a href="https://www.instagram.com" target="_blank" class="social-link" aria-label="Instagram">
                <i class="fab fa-instagram"></i>
              </a>
              <a href="https://www.youtube.com" target="_blank" class="social-link" aria-label="YouTube">
                <i class="fab fa-youtube"></i>
              </a>
            </div>
            
          </div>
          <!-- Subscription -->
          <div class="col-lg-3 col-md-6 mb-4">
            <h3 class="footer-title">Stay Updated</h3>
            <form class="footer-form" id="subscriptionForm">
              <input 
                type="email" 
                id="emailInput" 
                placeholder="Email" 
                pattern="[a-zA-Z0-9._%+-]+@[a-zA-Z]{2,}\.[a-zA-Z]{2,}" 
                title="Enter a valid email address" 
                required>
              <button class="mt-2" type="submit">Subscribe</button>
            </form>
            <div id="alertBox" class="fade-alert" style="display: none;">Successfully Subscribed!</div>
          </div>
          
          <script>
            const emailPattern = /^[a-zA-Z0-9._%+-]+@[a-zA-Z]{2,}\.[a-zA-Z]{2,}$/;
            const form1 = document.getElementById('subscriptionForm');
            const emailInput = document.getElementById('emailInput');
            const alertBox = document.getElementById('alertBox');
          
            form1.addEventListener('submit', function (e) {
              e.preventDefault(); // Prevent the form from refreshing the page
              const email = emailInput.value;
          
              if (emailPattern.test(email)) {
                alertBox.style.display = 'block';
                alertBox.textContent = 'Successfully Subscribed!';
                setTimeout(() => {
                  alertBox.style.display = 'none';
                }, 3000); // Hide the message after 3 seconds
              } else {
                alert('Invalid email address. Please enter a valid one.');
              }
            });
          </script>
          
        </div>
        <div class="row">
          <div class="col-12 text-center">
            <p>&copy; 2024 HarmoniQ. All Rights Reserved. Harmonize your music journey!</p>
          </div>
        </div>
      </div>
    </footer>
    
   
    
    <!-- Bootstrap JS -->
   <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"></script>
<script>
    const assignBadgeBtn = document.getElementById("assignBadge");
    const songsListenedSelect = document.getElementById("songsListened");
    const badgeSection = document.getElementById("badgeSection");
    const badge = document.getElementById("badge");

    assignBadgeBtn.addEventListener("click", function () {
        const songsListened = songsListenedSelect.value;

        if (!songsListened) {
            alert("Please select the number of songs listened to.");
            return;
        }

        let badgeClass = "";
        let badgeText = "";

        switch (songsListened) {
            case "10":
                badgeClass = "badge text-bg-warning"; // Orange badge
                badgeText = "Orange Badge";
                break;
            case "20":
                badgeClass = "badge text-bg-warning text-bg-yellow"; // Yellow badge
                badgeText = "Yellow Badge";
                break;
            case "30":
                badgeClass = "badge text-bg-success"; // Green badge
                badgeText = "Green Badge";
                break;
            case "40":
                badgeClass = "badge text-bg-primary"; // Violet badge
                badgeText = "Violet Badge";
                break;
            case "50":
                badgeClass = "badge text-bg-secondary"; // Brown badge
                badgeText = "Brown Badge";
                break;
        }

        badge.className = badgeClass; // Update badge class
        badge.textContent = badgeText; // Set badge text
        badgeSection.style.display = "block"; // Show badge section
    });
</script>
    <script>
      const form = document.getElementById("profileForm");
      const usernameInput = document.getElementById("username");
      const pictureInput = document.getElementById("profilePicture");
      const preferencesInput = document.getElementById("musicalPreferences");
      const notificationsToggle = document.getElementById("notifications");

      const profileImage = document.getElementById("profileImage");
      const displayUsername = document.getElementById("displayUsername");
      const displayPreferences = document.getElementById("displayPreferences");
      const displayNotifications = document.getElementById(
        "displayNotifications"
      );
      const profileCard = document.getElementById("profileCard");

      const themeOptions = document.querySelectorAll(".theme-option");

      // Apply selected theme
      themeOptions.forEach((option) => {
        option.addEventListener("click", function () {
          const selectedTheme = option.dataset.theme;
          document.body.className = selectedTheme; // Apply theme class to body
        });
      });

      // Form submission with validation
      form.addEventListener("submit", function (event) {
        event.preventDefault();
        // Check if form is valid
        if (!form.checkValidity()) {
          if (!usernameInput.value.match(/^[A-Za-z ]+$/)) {
            document.getElementById("usernameError").classList.add("show");
          } else {
            document.getElementById("usernameError").classList.remove("show");
          }

          if (!pictureInput.files[0]) {
            document.getElementById("pictureError").classList.add("show");
          } else {
            document.getElementById("pictureError").classList.remove("show");
          }

          if (!preferencesInput.value) {
            document.getElementById("preferencesError").classList.add("show");
          } else {
            document
              .getElementById("preferencesError")
              .classList.remove("show");
          }
        } else {
          // Display profile data
          displayUsername.innerHTML = `Username: <span>${usernameInput.value}</span>`;
          displayPreferences.innerHTML = `Musical Preference: <span>${preferencesInput.value}</span>`;
          displayNotifications.innerHTML = `Notifications: <span>${
            notificationsToggle.checked ? "Enabled" : "Disabled"
          }</span>`;

          if (pictureInput.files[0]) {
            const reader = new FileReader();
            reader.onload = function (e) {
              profileImage.src = e.target.result;
            };
            reader.readAsDataURL(pictureInput.files[0]);
          }

          profileCard.style.display = "block"; // Display profile card
          form.reset(); // Reset form after submission
          alert("Profile saved successfully!");
        }
      });

      // Edit Profile Functionality
      document
        .getElementById("editProfile")
        .addEventListener("click", function () {
          usernameInput.value =
            displayUsername.querySelector("span").textContent;
          preferencesInput.value =
            displayPreferences.querySelector("span").textContent;
        });

      // Delete Profile Functionality
      document
        .getElementById("deleteProfile")
        .addEventListener("click", function () {
          if (confirm("Are you sure you want to delete your profile?")) {
            displayUsername.innerHTML = "Username: <span>Deleted</span>";
            displayPreferences.innerHTML =
              "Musical Preference: <span>None</span>";
            displayNotifications.innerHTML =
              "Notifications: <span>Disabled</span>";
            profileImage.src = "https://via.placeholder.com/120";
            profileCard.style.display = "none"; // Hide profile card after deletion
          }
        });
         document.getElementById('logoutButton').addEventListener('click', function() {
            window.close(); 
            window.opener.location.href = 'login.html'; 
        });
    </script>
  </body>
</html>
